<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Local Camera preview</title>

    <style>
        #body {
            background-color: #00ff00;
        }

        #box {
            margin: 40px auto;
            width: max-content;
            height: max-content;
        }

        #videoElement {
            width: max-content;
            height: max-content;
            background-color: #666;
        }
    </style>
</head>

<body id="body">
<div id="box">
    <video autoplay="true" id="videoElement">

    </video>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.1.0/jscolor.min.js"></script>

<button onclick="updateBackground()">
    Apply Color
</button>

<p>
    <input id="foo"  data-jscolor="{hash:true}" value="#00FF00">

    <script>
        var video = document.querySelector("#videoElement");

        if (navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({
                video: true
            })
                .then(function (stream) {
                    video.srcObject = stream;
                })
                .catch(function (err0r) {
                    console.log("Something went wrong!");
                });
        }


        function updateBackground() {
            var foos = document.getElementById("foo").value;
            document.body.style.backgroundColor = foos;
            console.log("color should be ", foos);
            console.log("color is ", document.body.style.backgroundColor);

            var foo = document.getElementById("foo");
            foo.select();
            foo.setSelectionRange(0, 99999);
            document.execCommand('copy');
        }


    </script>
</body>
</html>